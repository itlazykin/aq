## Exceptions

[1. Что такое исключение в Java?](#1-что-такое-исключение-в-java)

[2. Какие существуют типы исключений в Java?](#2-какие-существуют-типы-исключений-в-java)

[3. Как отличается проверяемое исключение от непроверяемого?](#3-как-отличается-проверяемое-исключение-от-непроверяемого)

[4. Как работает механизм обработки исключений в Java?](#4-как-работает-механизм-обработки-исключений-в-java)

[5. Перечислите и кратко опишите уровни иерархии исключений в Java.](#5-перечислите-и-кратко-опишите-уровни-иерархии-исключений-в-java)

[6. Как можно использовать try-with-resources для автоматической очистки ресурсов в Java?](#6-как-можно-использовать-try-with-resources-для-автоматической-очистки-ресурсов-в-java)

[7. Какие стратегии и подходы используются для обработки исключений на разных уровнях абстракции в Java?](#7-какие-стратегии-и-подходы-используются-для-обработки-исключений-на-разных-уровнях-абстракции-в-java)

[8. Как исключения в Java влияют на производительность и как их можно оптимизировать?](#8-как-исключения-в-java-влияют-на-производительность-и-как-их-можно-оптимизировать)

[9. Какие лучшие практики существуют для обработки исключений в Java?](#9-какие-лучшие-практики-существуют-для-обработки-исключений-в-java)

# 1. Что такое исключение в Java?

Исключение в Java — это событие, которое происходит во время выполнения программы и нарушает нормальный поток её работы.
Когда происходит исключение, программа перестаёт работать, как обычно, и Java генерирует объект, который называется
исключением. Это позволяет разработчику реагировать на ошибочные ситуации, которые могут возникнуть в процессе
выполнения.

[К оглавлению](#Exceptions)

# 2. Какие существуют типы исключений в Java?

- `Checked exceptions` — это исключения, которые обязаны быть обработаны или объявлены в методе. Например, IOException
  или SQLException.
- `Unchecked exceptions` — это исключения, которые не обязаны быть обработаны, например, NullPointerException,
  ArrayIndexOutOfBoundsException, ArithmeticException.

[К оглавлению](#Exceptions)

# 3. Как отличается проверяемое исключение от непроверяемого?

- Checked exceptions - обязаны быть обработаны или объявлены в методе
- Unchecked exceptions - не обязаны быть обработаны

[К оглавлению](#Exceptions)

# 4. Как работает механизм обработки исключений в Java?

Когда в программе происходит ошибка (например, деление на ноль, попытка обращения к несуществующему файлу или работа с
null-ссылкой), Java выбрасывает (генерирует) исключение. Этот процесс называется "выбрасыванием" исключения (throwing an
exception). После этого программа может либо обработать исключение, либо завершиться с ошибкой.

Для того чтобы программа не завершалась с ошибкой, нужно обрабатывать исключения с помощью конструкции try-catch.

```java
public class Example {
  public static void main(String[] args) {
    try {
      int result = divide(10, 0);
    } catch (ArithmeticException e) {
      System.out.println("Ошибка: " + e.getMessage());
    } finally {
      System.out.println("Этот блок выполнится в любом случае.");
    }
  }

  public static int divide(int a, int b) {
    if (b == 0) {
      throw new ArithmeticException("Деление на ноль невозможно!");
    }
    return a / b;
  }
}
```

- try — блок кода, в котором может возникнуть исключение. 
- catch — блок кода, который перехватывает исключение и позволяет обработать его. 
- finally — блок, который выполняется всегда, независимо от того, произошло ли исключение. Обычно используется для закрытия ресурсов (файлов, соединений и т. д.).

[К оглавлению](#Exceptions)

# 5. Перечислите и кратко опишите уровни иерархии исключений в Java.

- Все исключения в Java — это объекты, которые являются подтипами класса Throwable.

Классы Throwable делятся на два основных типа:

- Ошибка (Error) — серьёзные ошибки, обычно связанные с состоянием самой виртуальной машины (например, OutOfMemoryError), которые не стоит пытаться обрабатывать. 
- Исключение (Exception) — ошибки, которые можно и нужно обрабатывать в программе.

[К оглавлению](#Exceptions)

# 6. Как можно использовать try-with-resources для автоматической очистки ресурсов в Java?

Конструкция try-with-resources — это мощный инструмент для работы с ресурсами в Java. Она помогает избежать утечек памяти, автоматически закрывая ресурсы

Для использования try-with-resources ресурс должен реализовывать интерфейс AutoCloseable (или его подтип Closeable), 
который требует реализации метода close(). Примером таких ресурсов могут быть классы для работы с файлами, 
потоками ввода/вывода, соединениями с базой данных и т.д.

[К оглавлению](#Exceptions)

# 7. Какие стратегии и подходы используются для обработки исключений на разных уровнях абстракции в Java?

- На уровне методов исключения обрабатываются в блоках try-catch. Эта стратегия используется, когда метод может вызвать исключение, и разработчик хочет контролировать его обработку или корректно передать ошибку на более высокий уровень.
  - Когда ошибка можно легко обработать и дать конкретное сообщение или выполнить необходимые действия (например, очистить ресурсы). 
  - Когда исключение является предсказуемым (например, ошибка ввода данных) и можно предугадать поведение в случае его возникновения.
- На более высоком уровне (например, в сервисах или контроллерах) исключения часто перехватываются и обрабатываются для того, чтобы отправить корректный ответ пользователю или для логирования.
  - Когда необходимо обработать ошибку на более высоком уровне и предоставить пользователю более осмысленную информацию. 
  - Когда нужно логировать ошибки на более высоком уровне или делать дополнительные действия, такие как отправка уведомлений или запись в журнал.
- Когда более высокоуровневые классы не могут справиться с исключениями, выброшенными низкоуровневыми (например, I/O или сетевые операции), они часто "оборачивают" эти исключения в свои собственные, более осмысленные исключения.
  - Когда нужно создать более специфичное или понятное исключение для бизнес-логики. 
  - Когда нужно "упростить" обработку исключений, превращая низкоуровневые исключения в более читаемые для пользователя.
- Иногда, особенно на более высоком уровне, исключение может быть просто передано дальше вверх по стеку вызовов. Эта стратегия используется, когда метод не может обработать исключение сам и передаёт его вызывающему коду.
  - Когда метод не может или не должен обрабатывать исключение. 
  - Когда ошибка требует вмешательства в коде, вызывающем метод, и не имеет смысла "гасить" исключение.
- Логирование исключений, подход, при котором исключения не обрабатываются, а просто регистрируются в журнале для последующего анализа и устранения проблем. Обычно это используется в реальных продуктах для того, чтобы понимать, где происходят ошибки.
  - Когда ошибка не критична для выполнения программы, но важно её зафиксировать. 
  - Когда нужно собрать информацию для отладки или последующего анализа.

[К оглавлению](#Exceptions)

# 8. Как исключения в Java влияют на производительность и как их можно оптимизировать?

Исключения в Java могут значительно повлиять на производительность приложения, если их обработка не оптимизирована. Это связано с тем, что создание исключений и их обработка требует дополнительных ресурсов и времени.

#### Оптимизация.

- Используйте исключения для реальных ошибок, а не для обычной логики. 
- Ловите только нужные исключения, избегайте перехвата общих исключений. 
- Оптимизируйте работу с ресурсами с помощью try-with-resources. 
- Избегайте избыточного логирования ошибок, особенно если исключения происходят часто.

[К оглавлению](#Exceptions)

# 9. Какие лучшие практики существуют для обработки исключений в Java?

- Использовать исключения только для неожиданных ошибок. 
- Ловить только специфичные исключения.
- Не игнорировать ошибки, а обрабатывать их или логировать. 
- Применять try-with-resources для управления ресурсами.
- Избегать использования исключений для обычной логики. 
- Создавать собственные исключения для специфичных ситуаций.

[К оглавлению](#Exceptions)